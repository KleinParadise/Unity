# 法线变换
- 法线变换不能使用与顶点变换相同的矩阵?
  -  进行非统一缩放时,如果使用和变换顶点相同的变换矩阵来变换法线,就会得到错误的结果,即变换后的法线方向与平面不在垂直

- 法线变换使用的矩阵?
  - 根据切线是可以直接使用用于变换顶点的变换矩阵来变换算出,并且切换与法线垂直可以推算出变换法线的矩阵等于原变换矩阵的**逆转置矩阵**

- 需要注意的点
  - 如果原顶点变换矩阵时正交矩阵,可以直接使用该矩阵来变换法线
  - 如果原顶点变换矩阵只包含旋转和统一的缩放,统一缩放系数为k,则法线的变换为1/k *  原顶点变换矩阵
  - 如果原顶点变换矩阵包含了非统一的缩放则法线的变换矩阵等于原变换矩阵的**逆转置矩阵**

# UnityShader内置数学变量

- Unity内置的变换矩阵
  变量名 | 描述
  ------------ | -------------
  UNITY_MATRIX_MVP | 当前的 模型 * 观察 * 投影矩阵,用于将顶点/方向矢量从模型空间变换到裁剪空间
  UNITY_MATRIX_MV  | 当前的 模型 * 观察矩阵,用于将顶点/方向矢量从模型空间变换到观察空间
  UNITY_MATRIX_V   | 当前的 观察矩阵,用于将顶点/方向矢量从世界空间变换到观察空间
  UNITY_MATRIX_P   | 当前的 投影矩阵,用于将顶点/方向矢量从观察空间变换到裁剪空间
  UNITY_MATRIX_VP  | 当前的 观察 * 投影矩阵,用于将顶点/方向矢量从世界空间变换到裁剪空间

