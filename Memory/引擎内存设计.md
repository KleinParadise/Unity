### 引起内存低效的原因
1. 处理任意大小的分配请求,需要大量的管理开销,导致申请内存(malloc)和释放内存(free)函数变的缓慢
2. 在多用户的操作系统上,需要从用户模式切换到内核模式处理请求,然后在切换回原程序,这种上下文的切换回耗费大量时间

### 引擎中内存设计的经验法则
维持最低限度的堆分配,并且不要在紧凑循环中使用堆分配

### 引擎中内存设计策略
实现一个或多个定制内存分配器  
定制内存分配器优于系统分配器的原因有二：
1. 定制分配器中通过预分配内存来完成分配请求。预分配内存来自(malloc),(new)和全局变量,这就保证了分配过程中都在用户模式下进行,避免了与操作系统上下文的切换。
2. 对定制分配器的使用模式做出多个假设,让其对通用堆分配高效
  
### 常见的定制内存分配器

#### 1.堆栈内存分配器
1. 实现方式  
  申请一大块连续的内存,用一个指针指向堆栈的顶端。指针以下是已分配的,以上是未分配的。
2. 能解决的问题  
  内存总是连续的,避免了内存碎片的产生
3. 弊端与不足  
  只能按照一定次序去释放内存,不允许任意次序释放
4. 在实际场景中的应用  
  可应用于游戏中关卡设计中,当游戏载入关卡时为关卡分配内存,完成关卡释放内存回到分配前的状态  
  stl空间分配器
  
